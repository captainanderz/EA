<div class="position-absolute bg-secondary w-100 secondary-header"></div>

<div class="container">
  <div class="row pt-4">
    <a class="mb-3 text-decoration-none" href="" (click)="onCancel()"
      >< Back to applications</a
    >
  </div>
  <div class="mb-5 d-flex justify-content-start align-items-center">
    <div
      class="circle-image-wrapper me-3 d-flex justify-content-center align-items-center bg-light border border-white border-3 glow-primary app-icon"
    >
      <img
        class="h-50"
        src="{{
          application?.iconBase64 || '../../../assets/images/blank-profile.png'
        }}"
      />
    </div>
    <div class="d-flex flex-column justify-content-start align-items-start">
      <div class="text-center">
        <h3 class="mb-0 fw-bold">{{ application?.name }}</h3>
      </div>
      <div class="text-muted text-start">
        version {{ application?.version }}
      </div>
    </div>
  </div>
  <div class="row mb-4">
    <div class="col-12 d-flex align-items-start justify-content-start">
      <h5>Description</h5>
    </div>
    <div class="col-12 d-flex align-items-start justify-content-start">
      {{ application?.description }}
    </div>
  </div>
  <div class="row row-cols-3 mb-4 g-4">
    <div class="col">
      <h5>Publisher</h5>
      {{ application?.publisher || "-" }}
    </div>
    <div class="col">
      <h5>Developer</h5>
      {{ application?.developer || "-" }}
    </div>
    <div class="col">
      <h5>Architecture</h5>
      {{ application?.architecture }}
    </div>
    <div class="col">
      <h5>Information URL</h5>
      {{ application?.informationUrl }}
    </div>
    <div class="col">
      <h5>Added At</h5>
      {{ application?.createdOn | date: "dd/MM/yyyy" }}
    </div>
    <div class="col">
      <h5>Updated At</h5>
      {{ application?.modifiedOn | date: "dd/MM/yyyy" }}
    </div>
    <div class="col">
      <h5>Notes</h5>
      {{ application?.notes || "-" }}
    </div>
  </div>
  <div class="d-flex justify-content-end align-items-end">
    <button
      (click)="request()"
      class="btn btn-primary block-below-sm"
      [disabled]="
        application?.requestState == RequestState.Pending ||
        application?.requestState == RequestState.Accepted
      "
    >
      <ng-container [ngSwitch]="application?.requestState">
        <ng-container *ngSwitchCase="RequestState.Pending">
          Pending
        </ng-container>
        <ng-container *ngSwitchCase="RequestState.Accepted">
          Accepted
        </ng-container>
        <ng-container *ngSwitchDefault> Request </ng-container>
      </ng-container>
    </button>
  </div>
</div>
